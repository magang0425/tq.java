2018-11-21

## 文件和目录管理

### 目录相关操作
1. [.] 代表此层目录
1. [..] 代表上一层目录
1. [-] 代表前一个工作目录
1. [~] 代表“目前使用者身份”所在的主文件夹
1. [~account] 代表 account 这个使用者的主文件夹（account是个帐号名称）

### 常见的处理目录的指令
1. cd：变换目录
1. pwd：显示目前的目录
    - -P: 显示出实际的工作目录，而非链接文件本身的目录名
1. mkdir：创建一个新的目录
    - mkdir [-mp] 目录名称
        - -m ：设置文件的权限喔！直接设置，不需要看默认权限 （umask） 的脸色～
        - -p ：帮助你直接将所需要的目录（包含上层目录） 递回创建起来
1. **rmdir：删除一个空的目录**
    - -p
    
### $PATH
1. 可执行文件路径
2. **如果在PATH定义的目录中含有多个文件名为ls的可执行文件，那么先搜寻到的同名指令先被执行**
3. 使用绝对路径或者是相对路径直接指定这个可执行文件文件名
    - 一个文件是否可执行和具体的文件名无关
    - 终于知道 ./命令 的含义了
4. 加入
    - PATH="${PATH}:/xxx"
5. 问题
    - 为什么 ${PATH} 搜寻的目录不加入本目录 (.)
        - 工作目录多变
        - 执行的指令会相应变动
        
### 具体命令
1. ls
    - -a ：全部的文件，连同隐藏文件（ 开头为 . 的文件） 一起列出来（常用）
    - -A ：全部的文件，连同隐藏文件，但不包括 . 与 .. 这两个目录
    - -d ：仅列出目录本身，而不是列出目录内的文件数据（常用）
    - -f ：直接列出结果，而不进行排序 （ls 默认会以文件名排序！）
    - -F ：根据文件、目录等信息，给予附加数据结构，例如：
    - *:代表可可执行文件； /:代表目录； =:代表 socket 文件； &#124;:代表 FIFO 文件；
    - -h ：将文件大小以人类较易读的方式（例如 GB, KB 等等） 列出来；
    - -i ：列出 inode 号码，inode 的意义下一章将会介绍；
    - -l ：长数据串行出，包含文件的属性与权限等等数据；（常用）
    - -n ：列出 UID 与 GID 而非使用者与群组的名称 （UID与GID会在帐号管理提到！）
    - -r ：将排序结果反向输出，例如：原本文件名由小到大，反向则为由大到小；
    - -R ：连同子目录内容一起列出来，等于该目录下的所有文件都会显示出来；
    - -S ：以文件大小大小排序，而不是用文件名排序；
    - -t ：依时间排序，而不是用文件名。
    - --color=never ：不要依据文件特性给予颜色显示；
    - --color=always ：显示颜色
    - --color=auto ：让系统自行依据设置来判断是否给予颜色
    - --full-time ：以完整时间模式 （包含年、月、日、时、分） 输出
    - --time={atime,ctime} ：输出 access 时间或改变权限属性时间 （ctime）而非内容变更时间 （modification time）
    
### 复制 删除 移动 cp, rm, mv
1. cp
    - [root@study ~]# cp [-adfilprsu] 来源文件（source） 目标文件（destination）
    - [root@study ~]# cp [options] source1 source2 source3 .... directory
    - 选项与参数：
        - -a ：相当于 -dr --preserve=all 的意思，至于 dr 请参考下列说明；（常用）
        - -d ：若来源文件为链接文件的属性（link file） ，则复制链接文件属性而非文件本身；
        - -f ：为强制（force） 的意思，若目标文件已经存在且无法打开，则移除后再尝试一次；
        - -i ：若目标文件（destination） 已经存在时，在覆盖时会先询问动作的进行（常用）
        - -l ：进行硬式链接（hard link） 的链接文件创建，而非复制文件本身；
        - -p ：连同文件的属性（权限、用户、时间） 一起复制过去，而非使用默认属性（备份常用） ；
        - -r ：递回持续复制，用于目录的复制行为；（常用）
        - -s ：复制成为符号链接文件 （symbolic link） ，亦即“捷径”文件；
        - -u ：destination 比 source 旧才更新 destination，或 destination 不存在的情况下才复制。
        - --preserve=all ：除了 -p 的权限相关参数外，还加入 SELinux 的属性, links, xattr 等也复制了。
        - **最后需要注意的，如果来源文件有两个以上，则最后一个目的文件一定要是“目录”才行！**
    - 备份
        - cp -a
            - 完整复制文件权限