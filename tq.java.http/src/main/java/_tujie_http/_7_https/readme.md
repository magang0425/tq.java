2017-12-06## HTTPS### 不足举例1. 使用明文, 可能被窃听    - 通信加密        - SSL (Secure Socket Layer, 安全套接层)        - TLS (Transport Layer Security, 安全层传输协议)    - 内容加密2. 不验证通信方的身份    - DOS攻击(Denial of Service, 拒绝服务攻击)    - 证书4. 无法证明报文的完整性    - 中间人攻击(Man-in-the-Middler attack, MITA)### HTTPS1. HTTPS = HTTP + 加密 + 认证 + 完整性保护2. 身披 SSL 外壳的 HTTP### SSL1. 公开密钥加密### 共享密钥- 加密和解密同用一个密钥的方式称为共享密钥加密,也叫对称密钥加密- 缺点：如果通信中,密钥落入攻击者手中,失去了加密的意义### 公开密钥加密- 使用一对非对称的密钥,一个叫私有密钥,一个叫公开密钥,发送密文的一方使用对方的公开密钥进行加密,对方收到被加密的信息后,使用自己的私有密钥进行解密- 缺点：但是公开密钥加密与共享密钥加密相比， 其处理速度要慢。### SSL:相互交换密钥的公开密钥加密技术（混合加密机制）- 在交换密钥环节使用公开密钥加密方式,之后建立的通信交换报文阶段使用共享加密方式- 缺点：无法证明公开密钥本身是由预想的服务器发行的公开密钥- 解决方式：可以使用由数字证书认证机构（CA， CertificateAuthority） 和其相关机关颁发的公开密钥证书- 认证机关的公开密钥如何安全的转交给客户端：多数浏览器开发商发布版本时， 会事先在内部植入常用认证机关的公开密钥![](1.png)### HTTPS认证过程1. 服务器的公开密钥 去 数字认证机构2. 数字认证机构同 自己的私有密钥, 对 公开密钥 署数字签名, 并颁发数字证书3. 数字证书 浏览器 已 事先植入4. 客户端拿到服务器的公钥证书, 使用数字证书机构得得公开密钥, 向数字证书机构验证公钥证书上的数字签名., 确认服务器的公开密钥的真实性5. 客户端使用服务器的公开密钥对信息进行加密6. 服务器用私有密钥 解密