2019-01-11

## Kafka

### 疑问
1. 如何有那么大的吞吐量的
2. 如何保证消息不丢失的
3. 如果保证消息投递的
4. 如何持久化的
1. 限流与流控
1. 性能瓶颈在哪里

### 思考
1. 一个主题内的消息如何分区
    - hash?
    - 轮询?
    - 应该是 一致性hash
1. 一个分区就是一个提交日志??
    - TODO
1. 群组保证每个分区只能被一个消费者使用
    - 如何保证??
        - 票据??
        - CAS??
2. 为消费者返回已经提交到磁盘上的消息
    - 消费数据受到 磁盘速度的影响??
        - TODO
3. 每个集群都有一个broker 同时充当集群控制器的角色(自动从集群中活跃的成员中选取出来)
    - 如何定义一个broker 是否是一个活跃的成员
    - 选举算法
4. 分区复制
    - 同步机制
    - TODO
5. 不可以减少分区个数的原因
    - TODO
