2018-03-15

### 概念
1. B树和平衡二叉树稍有不同的是B树属于多叉树又名平衡多路查找树（查找路径不只两个），数据库索引技术里大量使用者B树和B+树的数据结构

### 一棵 B-树是一棵平衡的 m 路搜索树，它或者是空树，或者它一般具有以下性质
1. 所有的非叶子结点中包含下列信息数据 :
    - (n,P0,K0,P1,K1,P2,···,Kn-1,Pn) 
    - 其中，K[i] (i=0,···,n-1)为关键字，切K[i] < K[i+1](i=0,···,n-1)，P[i] (i=0,1,···,n-1)为指向子树根结点的指针，
    且指针P[i]所指向的子树中的所有结点的关键字均小于K[i] (i=0,···,n-1)，P[i+1]所指向的子树中的所有结点的关键字均大于K[i]。
    n为关键字的关键字的个数，且⌈m/2⌉-1 ≤ n ≤ m-1。【解释：指的关键字的左子树都比它小，右子树都比它大】 
1. 若根结点不是叶子节点，则至少有两棵子树。    

### 最大容纳量计算
1. 假设这是有棵 m 阶 B-树，则每层所能容纳最多元素个数为：
```javascript
根节点: m - 1
level1: m(m - 1)
level2: m^2(m - 1)
...
leveln: m^n(m - 1)
```
2. 因此一棵树高为 h 的 B-树最多能容纳的元素为 m^(h + 1) - 1 即(将上面式子相加, 等比数列)
3. 一课 5 阶 B-树的高度为 2，则该树所能容纳最多元素个数为 5^3 - 1 = 124

### B+
1. 所有的叶子结点中包含了全部关键字的信息，及指向含有这些关键字记录的指针，且叶子结点本身依关键字的大小自小而大的顺序链接。 (而B 树的叶子节点并没有包括全部需要查找的信息)
2. 所有的非终端结点可以看成是索引部分，结点中仅含有其子树根结点中最大（或最小）关键字。 (而B 树的非终节点也包含需要查找的有效信息)

### B+-tree比B 树更适合实际应用中操作系统的文件索引和数据库索引
1. B+-tree的内部结点并没有指向关键字具体信息的指针。因此其内部结点相对B 树更小。如果把所有同一内部结点的关键字存放在同一盘块中，
那么盘块所能容纳的关键字数量也越多。一次性读入内存中的需要查找的关键字也就越多。相对来说IO读写次数也就降低了
2. 由于非终结点并不是最终指向文件内容的结点，而只是叶子结点中关键字的索引。所以任何关键字的查找必须走一条从根结点到叶子结点的路。所有关键字查询的路径长度相同，导致每一个数据的查询效率相当。
3. **B+树只要遍历叶子节点就可以实现整棵树的遍历。而且在数据库中基于范围的查询是非常频繁的，而B树不支持这样的操作（或者说效率太低）** 