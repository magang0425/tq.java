209-04-09

## Http:web的基础

### HTTP概述
1. 媒体类型
    - MIME type(Multipurpose Internet Mail Extension, 多用途因特网邮件扩展)
    - 描述以及标记多媒体内容
    - 告诉客户端如何处理这个对象
    - 类型是一种文本标记，表示一种主要的对象类型和一个特定的子类型，中间
      由一条斜杠来分隔
2. URI URL URN
    - URI
        - 统一资源标识符(Uniform Resource Identifier)
        - 唯一标识并定位信息资源
        - 有两种形式: URL, URN
    - URL
        - 统一资源定位符（URL）是资源标识符最常见的形式
        - 描述一台特定服务器上某资源的特定位置
        - 标准
            - 协议类型: http://
            - 服务器的因特网地址: www.baidu.com
            - 其余部分指定web服务器上的某个资源: /spea/11.gif
        - 几乎所有的URI都是 URL
    - URN
        - 统一资源名
        - URN 是作为特定内容的唯一名称使用的，与目前的资源所在地无关。
        - 使用这些与位置无关的 URN，就可以将资源四处搬移
3. 报文
    - 三个部分
        - 起始行
            - 第一行
            - 在请求报文中说明要做什么., 在响应报文中说明 出现了什么情况
        - 首部字段
            - 起始行下一行
            - K:V
        - 主体
            - 可选
            - 请求主题包含了发送给服务器的数据, 响应主体包含返回给客户端的数据
            - 任意的二进制数据 

### 连接
1. 基于 TCP/IP

### Web 结构组件
1. 代理
    - 位于客户端和服务器之间的 HTTP 中间实体
    - 安全, 应用集成, 性能优化???
    - 过滤请求与响应
2. 缓存
    - HTTP的仓库, 常用页面副本可以保存在离客户端更近的地方
    - 常用文档缓存在代理中, 
3. 网关
    - 连接其他应用程序的特殊 Web 服务器。
    - **通常用于将 HTTP 流量转换成其他的协议**
4. 隧道
   - 对 HTTP 通信报文进行盲转发的特殊代理。
   - 建立起来之后，就会在两条连接之间对原始数据进行盲转发的HTTP 应用程序。
   - HTTP 隧道通常用来在一条或多条 HTTP 连接上转发非 HTTP 数据，转发时不会窥探数据。
5. Agent 代理
    - 发起自动 HTTP 请求的半智能 Web 客户端。
    
    
### URL 与资源
1. 片段
    - TODO


### HTTP 报文
1. 报文流
2. 报文的组成部分
    - 报文的语法
        - 请求报文
            - method request-url version
            - headers
            -      
            - entity-boby            
        - 响应报文
            - version status reason-phrase
            - headers
            -
            - entity-boby
3. 状态码
    - 100-199 信息提示
        - 100 Continue
            - 客户端应用程序只有在避免向服务器发送一个服务器无法处理或使用的大实体时，才应该使用 100 Continue。
            - 询问服务器是否可以接收大实体
    - 200-299 成功
       - 200 OK
    - 300-399 重定向
        - 301 Moved Permanently 
            - 在请求的 URL 已被移除时使用。响应的 Location 首部中应该包含资源现在所处的 URL
    - 400-499 客户端错误
        - 400 Bad Request
        - 401 Unauthorized
        - 403 Forbidden
        - 404 Not Found
    - 500-599 服务器错误
        - 500 Internal Server Error 
            - 服务器遇到一个妨碍它为请求提供服务的错误时，使用此状态码
        - 501 Not Implemented 
            - 客户端发起的请求超出服务器的能力范围（比如，使用了服务器不支持的请求方法）时，使用此状态码
4. 首部
    - 通用首部
        - **既可以出现在请求报文中，也可以出现在响应报文中。**
        - Date
        - Content-length
        - Content-type
        - Accept
        - 缓存首部
            - Cache-Control 用于随报文传送缓存指示
    - 请求首部
        - 提供更多有关请求的信息。
        - Client-IP
        - Host
    - 响应首部
        - 提供更多有关响应的信息。
    - 实体首部
        - **描述主体的长度和内容，或者资源自身。**