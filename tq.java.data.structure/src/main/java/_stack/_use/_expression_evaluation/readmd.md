2018-02-26

## 表达式求值 & 中缀表达式转后缀表达式
1. 算符优先法

### 算术四则运算的规则
1. 先乘除，后加减
2. 从左算到右
3. 先括号内，后括号外
4. 4+(6-10+2*2)*2 --> 4+(6-10+2*2)*2 = 4+(-4+2*2)*2 = 4+(-4+4)*2 = 4+0*2 = 4+0 = 4

### 运算符的优先关系
1. θ1 < θ2，θ1的优先权低于θ2
2. θ1 = θ2，θ1的优先权等于θ2
3. θ1 > θ2，θ1的优先权大于θ2

### 运算符的优先关系表

| θ1\θ2 | + |-|*|/|(|)|
|-|-|-|-|-|-|-|
|+|>|>|<|<|<|>|
|-|>|>|<|<|<|>|
|*|>|>|>|>|<|>|
|/|>|>|>|>|<|>|
|(|<|<|<|<|<|=|
|)|>|>|>|>||>|

### 算法的基本思想
1. 两个工作栈: 一个称作OPTR，用以寄存运算符；另一个称作OPND，用以寄存操作数或运算结果
2. 依次读入表达式中的每个字符，若是操作数则进OPND栈
3. 若是运算符,则和OPTR栈的栈顶运算符比较优先权后作相应操作
4. 表达式读取结束，若两个栈都不为空，则依次弹出OPTR栈中的运算符和OPND栈中的两个操作数，
进行运算后，将运算结果在加入OPND栈。直到OPTR栈为空，OPND栈只剩下一个元素，则该元素就是运算结果
5. 中间出现差错，比如最后OPND栈剩下不止一个数，则视为表达式出错。

### 比较优先权
1. 若该运算符优先权大于栈顶运算符优先权则该运算符直接进OPTR栈；反之若运算符优先权小于栈顶运算符的优先权，则弹出栈顶运算符，
并从操作数OPND栈弹出两个数进行该栈顶运算符的运算，运算结果再加入OPND操作数栈
2. 循环往复地进行第1步判断。直到将该操作符加入OPTR操作符栈