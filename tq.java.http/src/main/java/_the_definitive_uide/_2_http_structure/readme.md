2019-04-11

## HTTP 结构

### web服务器
1. web服务器的实现
    - 逻辑实现 HTTP
    - 管理web资源
    - 负责提供问web服务器的管理功能
    - 和操作系统共同负责管理 TCP 连接
2. 做什么
    - 接收客户端连接
    - 接收请求报文
    - 处理请求
    - 最资源的映射与访问 
        - 目录列表
        - 动态内容资源映射
        - 访问控制
    - 构建响应
    - 发送响应
    - 记录日志

### 代理
![](1.jpg)

1. web的中间实体
    - Web 上的代理服务器是代表客户端完成事务处理的中间人
    - HTTP 的代理服务器既是 Web 服务器又是 Web 客户端 
2. 为什么使用代理
    - 儿童过滤器
    - 文档访问控制
        - 集中式访问控制
    - 安全防火墙
    - web缓存
    - 反向代理
    - 内容路由器
    - 转码器
3. 代理去往何处
    - 代理服务器的部署
        - 出口代理
        - 访问(出口)代理
    - 动态选择父代理
        - 均衡负载
            - 根据当前父代理的工作负载来决定如何选择一个父代理
        - 地理位置附近的路由
        - 协议 / 类型路由
            - 子代理可能会根据 URI 将报文转发到不同的父代理和原始服务器上去
    - 代理是如何获取流量的
        - 修改客户端
        - 修改网络
        - 修改 DNS 的命名空间
        - 修改 Web 服务器 
4. 追踪报文
    - via
    - trace
    - TODO
    
### 缓存
1. 
        